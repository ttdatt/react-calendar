import e,{memo as t,useMemo as n,useCallback as a,forwardRef as r,useState as l,useImperativeHandle as i,useLayoutEffect as c,useEffect as o,useRef as s}from"react";var u=function(){return u=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},u.apply(this,arguments)},d={0:"Su",1:"Mo",2:"Tu",3:"We",4:"Th",5:"Fr",6:"Sa"},g={0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"};function h(e){return(e.getFullYear()<10?"0"+e.getFullYear():e.getFullYear())+"_"+(e.getMonth()<10?"0"+e.getMonth():e.getMonth())+"_"+(e.getDate()<10?"0"+e.getDate():e.getDate())}function f(e){return new Date(Number(e.substr(0,4)),Number(e.substr(5,2)),Number(e.substr(8,2)))}function y(e,t){if(t.getFullYear()<e.getFullYear())return!0;if(t.getFullYear()===e.getFullYear()){if(t.getMonth()<e.getMonth())return!0;if(t.getMonth()===e.getMonth()&&t.getDate()<e.getDate())return!0}return!1}function w(e){return null!=e&&e.getTime&&!isNaN(e.getTime())}function m(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function D(e,t,n){var a=e.getFullYear(),r=e.getMonth(),l=e.getDate(),i=t.getFullYear(),c=t.getMonth(),o=t.getDate(),s=n.getFullYear(),u=n.getMonth(),d=n.getDate();return a<=s&&s<=i&&(a<s&&s<i||(a===i?r<=u&&u<=c&&(r<u&&u<c||(r===c?l<=d&&d<=o&&u===c:r===u?l<=d:c===u&&d<=o)):a===s?u>r||u===r&&d>=l:i===s&&(u<c||u===c&&d<=o)))}function v(e){return e%4==0&&e%100!=0||e%400==0}function M(e,t){return{0:31,1:v(e)?29:28,2:31,3:30,4:31,5:30,6:31,7:31,8:30,9:31,10:30,11:31}[t]}function b(e){return M(e.getFullYear(),e.getMonth())===e.getDate()}function _(e){return 0===e?11:e-1}function S(e){return 11===e?0:e+1}function R(e){return 1===e?1:e-1}function p(e){return e+1}function k(e){return function(e){return 11===e.getMonth()&&b(e)}(e)?new Date(e.getFullYear()+1,0,1):b(e)?new Date(e.getFullYear(),e.getMonth()+1,1):new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)}function E(e,t){var n=6-t;return e<=n?e+t:e-n-1}function C(e){return e%20==0?20*(e/20-1)+1:20*Number(Math.floor(e/20))+1}function V(e){for(var t=e.isRangeSelectModeOn,n=e.isRangeView,a=e.selectedDate,r=e.selectedRangeStart,l=e.selectedRangeEnd,i=e.highlightsMap,c=e.newSelectedRangeStart,o=e.newSelectedRangeEnd,s=e.isSelectMultiDate,u=e.selectedMultiDates,d=e.yearInView,g=e.monthInView,h=e.startOfTheWeek,f=e.isDisabled,y=e.checkIfWeekend,w=[[],[],[],[],[],[]],m=function(e,t,n){var a=new Date;return a.setDate(1),a.setMonth(t),a.setFullYear(e),function(e,t){return void 0===t&&(t=0),e>=t?e-t:6-t+1+e}(a.getDay(),n)}(d,g,h),D=new Date,v=M(d,g),b=0===g,p=11===g,k=M(b?R(d):d,_(g)),E=0,C=0,V=k-(m-1);V<=k;V++)7===C&&(C=0,E++),w[E].push(x({currDate:new Date(b?R(d):d,_(g),V),activeMonthInView:!1,highlightsMap:i,newSelectedRangeEnd:o,newSelectedRangeStart:c,selectedDate:a,selectedRangeEnd:l,selectedRangeStart:r,isDisabled:f,isRangeSelectModeOn:t,isRangeView:n,isSelectMultiDate:s,row:E,weekColumn:C,checkIfWeekend:y,today:D,selectedMultiDates:u,startOfTheWeek:h})),C++;for(var F=1;F<=v;F++)7===C&&(C=0,E++),w[E].push(x({currDate:new Date(d,g,F),activeMonthInView:!0,highlightsMap:i,newSelectedRangeEnd:o,newSelectedRangeStart:c,selectedDate:a,selectedRangeEnd:l,selectedRangeStart:r,isDisabled:f,isRangeSelectModeOn:t,isRangeView:n,isSelectMultiDate:s,row:E,weekColumn:C,checkIfWeekend:y,today:D,selectedMultiDates:u,startOfTheWeek:h})),C++;for(var Y=1;w[5].length<7;)7===C&&(C=0,E++),w[E].push(x({currDate:new Date(p?d+1:d,S(g),Y),activeMonthInView:!1,highlightsMap:i,newSelectedRangeEnd:o,newSelectedRangeStart:c,selectedDate:a,selectedRangeEnd:l,selectedRangeStart:r,isDisabled:f,isRangeSelectModeOn:t,isRangeView:n,isSelectMultiDate:s,row:E,weekColumn:C,checkIfWeekend:y,today:D,selectedMultiDates:u,startOfTheWeek:h})),C++,Y++;return w}function x(e){var t=e.currDate,n=e.activeMonthInView,a=e.highlightsMap,r=e.newSelectedRangeEnd,l=e.newSelectedRangeStart,i=e.selectedDate,c=e.selectedRangeEnd,o=e.selectedRangeStart,s=e.isDisabled,u=e.isRangeSelectModeOn,d=e.isRangeView,g=e.isSelectMultiDate,f=e.row,v=e.weekColumn,M=e.checkIfWeekend,b=e.today,_=e.selectedMultiDates,S=e.startOfTheWeek;return{date:t,dayOfMonth:t.getDate(),month:t.getMonth(),activeMonthInView:n,isHighlight:1===a[h(t)],isInRange:!!d&&(u?!(!w(l)||!w(r))&&(y(r,l)?D(l,r,t):D(r,l,t)):!!o&&!!c&&D(o,c,t)),isRangeStart:!!d&&(u?!!w(l)&&m(l,t):!!o&&m(o,t)),isRangeEnd:!!d&&(!u&&(!!c&&m(c,t))),year:t.getFullYear(),dayOfWeek:E(v,S),isWeekend:M(t),isToday:m(t,b),isFirstRow:0===f,isLastRow:5===f,isFirsColumn:0===v,isLastColumn:6===v,isSelected:g?!!_[h(t)]:!d&&(!!i&&(t.getMonth()===i.getMonth()&&t.getFullYear()===i.getFullYear()&&t.getDate()===i.getDate())),isDisabled:s(t)}}var F={root:{height:"12%",padding:"1% 2%",display:"flex",alignTtems:"center",width:"100%"},rc_header_nav:{width:"10.14%",height:"100%",flex:"0 0 auto"},rch_header_label:{width:"65.21%",height:"100%",margin:"0 4.34%",flex:"1 1 auto",display:"flex",justifyContent:"center",alignItems:"center"}};var Y=t((function(t){var n=t.onClickPrev,a=t.onChangeViewType,r=t.onClickNext,l=t.viewType,i=t.monthInView,c=t.yearInView,o=t.yearMatrixEnd,s=t.yearMatrixStart;return e.createElement("header",{style:F.root,className:"rc_header"},e.createElement("button",{style:F.rc_header_nav,className:"rc_header_nav rc_header_nav-prev",onClick:n},e.createElement("span",null,"←")),"month_dates"===l?e.createElement("button",{style:F.rch_header_label,className:"rc_header_label rc_header_label-days-of-month",onClick:function(){return a("years")}},e.createElement("div",null,e.createElement("span",null,g[i])),e.createElement("div",null,e.createElement("span",null,c))):"months"===l?e.createElement("button",{style:F.rch_header_label,className:"rc_header_label rc_header_label-months"},e.createElement("div",{onClick:function(){return a("years")}},e.createElement("span",null,c))):e.createElement("button",{style:F.rch_header_label,className:"rc_header_label rc_header_label-years",onClick:function(){return a("month_dates")}},e.createElement("div",null,e.createElement("span",null,s,"-",o))),e.createElement("button",{style:F.rc_header_nav,className:"rc_header_nav rc_header_nav-next",onClick:r},e.createElement("span",null,"→")))})),I={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},N={width:"95%",height:"45%",display:"flex",alignItems:"center",justifyContent:"center"};var A=t((function(t){var n=t.cell,a=t.onMonthClicked;return e.createElement("div",{style:I},e.createElement("button",{style:N,onClick:function(){a(n)}},g[n.month]))})),O={root:{height:"100%"},"rc_body-row":{height:"24.9%",display:"flex",width:"100%"},"rc_body-cell":{flexBasis:"33.33%",maxWidth:"33.33%",height:"100%"}};var T=t((function(t){var a=t.onChangeViewingMonth,r=t.onChangeViewType,l=n((function(){return function(e){var t=Array.from({length:12},(function(t,n){return{month:n,isCurrentMonth:(new Date).getMonth()===n,isSelectedMonth:1===e[n]}}));return[t.slice(0,3),t.slice(3,6),t.slice(6,9),t.slice(9,12)]}({})}),[]);return e.createElement("div",{role:"grid",style:O.root,className:"rc_body-months"},l.map((function(t,n){return e.createElement("div",{style:O["rc_body-row"],className:"rc_body-row",key:n},t.map((function(t){return e.createElement("div",{style:O["rc_body-cell"],className:"rc_body-cell"+(t.isCurrentMonth?" rc_this_month":""),key:t.month},e.createElement(A,{cell:t,onMonthClicked:function(e){a(e.month),r("month_dates")}}))})))})))})),W={width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},P={width:"95%",height:"45%",display:"flex",alignItems:"center",justifyContent:"center"};var j=t((function(t){var n=t.cell,a=t.onYearClicked;return e.createElement("div",{style:W},e.createElement("button",{style:P,onClick:function(){a(n)}},n.year))})),L={root:{height:"100%"},"rc_body-row":{height:"24.9%",display:"flex",width:"100%"},"rc_body-cell":{width:"20%",height:"100%"}};var q=t((function(t){var a=t.onChangeViewType,r=t.onChangeViewingYear,l=t.yearMatrixStart,i=n((function(){return function(e,t){var n=Array.from({length:20},(function(n,a){return{year:e+a,isCurrentYear:(new Date).getFullYear()===e+a,isSelectedYear:1===t[e+a]}}));return[n.slice(0,5),n.slice(5,10),n.slice(10,15),n.slice(15,20)]}(l,{})}),[l]);return e.createElement("div",{role:"grid",style:L.root,className:"rc_body-years"},i.map((function(t,n){return e.createElement("div",{style:L["rc_body-row"],className:"rc_body-row",key:n},t.map((function(t){return e.createElement("div",{style:L["rc_body-cell"],className:"rc_body-cell"+(t.isCurrentYear?" rc_this_year":""),key:t.year},e.createElement(j,{cell:t,onYearClicked:function(e){r(e.year),a("months")}}))})))})))})),z={"rc_body-weekdays":{height:"15%",margin:"0",padding:0,display:"flex",width:"100%",listStyle:"none"},"rc_body-weekdays_cell":{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",flexBasis:"14.286%",maxWidth:"14.286%"},"rc_body-weekdays_cell_value":{width:"65.95%",display:"flex",alignItems:"center",justifyContent:"center"}};var B=t((function(t){var a=t.startOfWeek,r=t.weekendMap,l=n((function(){return function(e){void 0===e&&(e=0);var t=Object.keys(d).slice(e,7).concat(Object.keys(d).slice(0,e));return{map:t.reduce((function(e,t){return e[Number(t)]=d[Number(t)],e}),{}),order:t}}(a)}),[a]).order;return e.createElement("ul",{style:z["rc_body-weekdays"],className:"rc_body-weekdays"},l.map((function(t){return e.createElement("li",{style:z["rc_body-weekdays_cell"],key:t,className:"rc_body-weekdays_cell"+(r[t]?" rc_wknd":"")},e.createElement("div",{style:z["rc_body-weekdays_cell_value"]},e.createElement("span",null,d[t])))})))})),H={width:"100%",height:"99%",display:"flex",alignItems:"center",justifyContent:"center"};var J=t((function(t){var a=t.cell,r=t.onDateClicked,l=t.noPadRangeCell,i=n((function(){return function(e){return{width:e?"100%":"69.80%",height:e?"90%":"80%",display:"flex",alignItems:"center",justifyContent:"center"}}(l)}),[l]),c=n((function(){return function(e){return{width:e?"69.8%":"100%",height:"92%"}}(l)}),[l]);return e.createElement("div",{style:H},e.createElement("div",{style:i,className:"rc_body-cell_value"},e.createElement("button",{style:c,disabled:a.isDisabled,tabIndex:a.isDisabled?-1:0,onClick:function(){return r(a)}},a.dayOfMonth)))})),U={"rc_body-days-of-month":{height:"85%"},"rc_body-row":{height:"16.664%",display:"flex",width:"100%",alignItems:"center"},"rc_body-cell":{flexBasis:"14.286%",maxWidth:"14.286%",height:"100%",display:"flex",aligntems:"center"}};var G=t((function(t){var r=t.selectedDate,l=t.selectedRangeStart,i=t.selectedRangeEnd,c=t.newSelectedRangeStart,o=t.startOfWeek,s=t.newSelectedRangeEnd,d=t.isRangeSelectorView,g=t.skipDisabledDatesInRange,f=t.onChangeRangeSelectMode,w=t.fixedRange,D=t.isFixedRangeView,v=t.isRangeSelectModeOn,M=t.isDisabled,b=t.selectedMultiDates,_=t.isMultiSelectorView,S=t.monthInView,R=t.hideAdjacentDates,p=t.onChangenNewSelectedRangeEnd,E=t.onChangenNewSelectedRangeStart,C=t.weekends,x=t.onChange,F=t.yearInView,Y=t.allowFewerDatesThanRange,I=t.noPadRangeCell,N=t.disableFuture,A=t.disablePast,O=t.lockView,T=t.checkIfWeekend,W=t.onPartialRangeSelect,P=t.onEachMultiSelect,j=t.highlightsMap,L=t.disableToday,q=n((function(){return V({selectedDate:r,selectedRangeStart:l,selectedRangeEnd:i,newSelectedRangeStart:c,newSelectedRangeEnd:s,checkIfWeekend:T,isRangeView:d||D,isRangeSelectModeOn:v,weekendIndexes:C,selectedMultiDates:b,highlightsMap:j,isSelectMultiDate:_,yearInView:F,monthInView:S,startOfTheWeek:o,disableFuture:N,disablePast:A,disableToday:L,isDisabled:M})}),[r,l,i,c,s,d,D,v,T,C,b,j,_,F,S,o,N,A,L,M]),z=a((function(e){var t=e.date;if(!(O&&t.getMonth()!==S))if(d&&!D)if(v&&c){var n=new Date(c.getFullYear(),c.getMonth(),c.getDate());if(y(n,t)){var a=t,r=n;"function"==typeof x&&x([a,r])}else{a=n,r=t;"function"==typeof x&&x([a,r])}p(void 0),f(!1)}else E(t),p(void 0),f(!0),W&&W(t);else if(d&&D){var l=function(e,t,n){for(var a=t,r=e,l=!1,i=0;a>0;){if(1500===i){l=!0;break}var c=k(r);if(n.upperLimit&&m(n.upperLimit,c)){l=!0;break}r=c,n.skipDisabledDatesInRange?n.skipDisabledDatesInRange&&!n.isDisabled(c)&&a--:a--,i++}return{endDate:r,limitReached:l}}(t,w,{isDisabled:M,skipDisabledDatesInRange:g,upperLimit:O?new Date(t.getFullYear(),t.getMonth()+1,1):N?k(new Date):void 0});r=l.endDate;l.limitReached&&!Y||"function"==typeof x&&x([t,r])}else if(_){var i=h(t),o=u({},b);b[i]?o[i]=void 0:o[i]=t,P&&P(t),x&&x(Object.keys(o).filter((function(e){return!!o[e]})).map((function(e){return o[e]})))}else"function"==typeof x&&x(t)}),[O,S,d,D,_,v,c,p,f,x,E,W,w,M,g,N,Y,b,P]);return e.createElement("div",{style:U["rc_body-days-of-month"],className:"rc_body-days-of-month",role:"grid"},q.map((function(t,n){return e.createElement("div",{style:U["rc_body-row"],className:"rc_body-row",key:n},t.map((function(t){return e.createElement("div",{style:U["rc_body-cell"],onMouseEnter:function(){d&&v&&p(new Date(t.year,t.month,t.dayOfMonth))},key:h(t.date),className:"rc_body-cell"+(t.activeMonthInView?" rc_active":"")+(t.isWeekend?" rc_wknd":"")+(t.isToday?" rc_today":"")+(t.isFirstRow?" rc_fr":"")+(t.isToday?" rc_today":"")+(t.isHighlight?" rc_highlight":"")+(t.isLastRow?" rc_lr":"")+(t.isFirsColumn?" rc_fc":"")+(t.isLastColumn?" rc_lc":"")+(t.isSelected&&!d?" rc_selected":"")+(t.isDisabled?" rc_disabled":"")+(t.isInRange?" rc_in_range":"")+(t.isRangeStart?" rc_range_start":"")+(t.isRangeEnd?" rc_range_end":"")+(v?" rc_range_mode":"")},!t.activeMonthInView&&R?null:e.createElement(J,{noPadRangeCell:I,cell:t,onDateClicked:z}))})))})))})),K={height:"88%",width:"100%"},Q={years:1,months:1,month_dates:1};var X=t(r((function(t,r){var u=t.size,d=t.fontSize,g=t.isNormalView,h=t.isMultiSelectorView,y=t.isRangeSelectorView,m=t.viewDate,D=t.selectedDate,v=t.selectedRangeStart,M=t.selectedMultiDates,b=t.minAllowedDate,k=t.maxAllowedDate,E=t.isSecondary,V=t.lockView,x=t.startOfWeek,F=t.noPadRangeCell,I=t.weekends,N=t.isRangeSelectModeOn,A=t.onChangeRangeSelectMode,O=t.initialView,W=t.skipDisabledDatesInRange,P=t.hideAdjacentDates,j=t.allowFewerDatesThanRange,L=t.selectedRangeEnd,z=t.newSelectedRangeStart,H=t.onChangenNewSelectedRangeEnd,J=t.onChangenNewSelectedRangeStart,U=t.onPartialRangeSelect,X=t.onEachMultiSelect,$=t.newSelectedRangeEnd,ee=t.fixedRange,te=t.isFixedRangeView,ne=t.isDisabled,ae=t.checkIfWeekend,re=t.onChange,le=t.showDualCalendar,ie=t.disableFuture,ce=t.weekendMap,oe=t.disablePast,se=t.highlightsMap,ue=t.disableToday,de=t.onChangeMonth,ge=n((function(){return function(e,t){return{root:{rc:{width:e+"px",height:e+"px",fontSize:t+"px",display:"flex",alignItems:"flex-start",flexDirection:"column",boxSizing:"border-box"}}}}(u,d)}),[u,d]),he=l(O&&Q[O]?O:"month_dates"),fe=he[0],ye=he[1],we=l((function(){return Z({isNormalView:g,isMultiSelectorView:h,isRangeSelectorView:y,selectedDate:D,selectedRangeStart:v,selectedMultiDates:M,viewDate:m,minAllowedDate:b?f(b):void 0,maxAllowedDate:k?f(k):void 0}).getMonth()})),me=we[0],De=we[1],ve=l(Z({isNormalView:g,isMultiSelectorView:h,isRangeSelectorView:y,selectedDate:D,selectedRangeStart:v,selectedMultiDates:M,viewDate:m,minAllowedDate:b?f(b):void 0,maxAllowedDate:k?f(k):void 0}).getFullYear()),Me=ve[0],be=ve[1];i(r,(function(){return{setView:function(e){De(e.getMonth()),be(e.getFullYear())}}})),c((function(){if(le&&E){var e=S(me);De(e),be(0===e?p(Me):Me)}}),[le,E]),o((function(){w(D)&&(De(D.getMonth()),be(D.getFullYear()))}),[D]),o((function(){var e=Object.keys(M).map((function(e){return M[e]})).filter((function(e){return w(e)}));1===e.length&&e[0]&&(De(e[0].getMonth()),be(e[0].getFullYear()))}),[M]);var _e=a((function(e){!V&&De(e)}),[V]),Se=a((function(e){!V&&be(e)}),[V]),Re=a((function(e){!V&&ye(e)}),[V]),pe=l(C(Me)),ke=pe[0],Ee=pe[1];o((function(){Ee(C(Me))}),[Me,Ee]);var Ce=n((function(){return[e=ke,e+19];var e}),[ke]),Ve=Ce[0],xe=Ce[1],Fe=a((function(){var e;"month_dates"===fe&&(0===me&&be(R(Me)),_e(_(me)));"years"===fe&&Ee(1===(e=ke)?1:C(e-1)),"months"===fe&&Se(1!==Me?Me-1:1)}),[_e,me,Se,Me,fe,Ee,ke]);o((function(){null==de||de(me,Me)}),[me,Me]);var Ye=a((function(){"month_dates"===fe&&(11===me&&Se(p(Me)),_e(S(me)));"years"===fe&&Ee(C(ke+20)),"months"===fe&&Se(p(Me))}),[_e,me,Se,Me,fe,Ee,ke]),Ie=s(null),Ne=s([]),Ae=l(!1),Oe=Ae[0],Te=Ae[1];return o((function(){if(Oe){var e=Ie.current;if(e){Ne.current=e?Array.from(e.querySelectorAll('[role="grid"] button:not([disabled])')):[];var t=Ne.current[0],n=Ne.current[Ne.current.length-1],a=e.querySelector('[role="grid"] .rc_selected button')||e.querySelector('[role="grid"] .rc_range_end button')||e.querySelector('[role="grid"] .rc_range_start button'),r=e.querySelector('[role="grid"] .rc_active button'),l=e.querySelector(".rc_header");if(l){var i=l.querySelector(".rc_header_nav-prev"),c=l.querySelector(".rc_header_nav-next"),o=l.querySelector(".rc_header_label");e&&!e.contains(document.activeElement)&&(a?a.focus():r?r.focus():t.focus());var s=function(e,n){var a,r,l=n===t;return e?(a=e,r=Ne.current.indexOf(a),l?r<Ne.current.length-1?Ne.current[r+1]:n:r-1>-1?Ne.current[r-1]:n):null};return e.addEventListener("keydown",u,{capture:!0}),function(){e.removeEventListener("keydown",u,{capture:!0})}}}}function u(e){var a=e.target,r=Ne.current&&Ne.current.find((function(e){return e===a}));if("Tab"===e.key&&(e.preventDefault(),(null==l?void 0:l.contains(document.activeElement))?t.focus():null==i||i.focus()),"ArrowDown"===e.key){e.preventDefault();var u="month_dates"===fe?7:"months"===fe?3:5;if(!r)return;for(var d=r;u>0;)d=s(d,t),u--;null==d||d.focus()}if("ArrowUp"===e.key){e.preventDefault();u="month_dates"===fe?7:"months"===fe?3:5;if(!r)return;for(d=r;u>0;)d=s(d,n),u--;null==d||d.focus()}if("ArrowLeft"===e.key)if(e.preventDefault(),document.activeElement===i)null==c||c.focus();else if(document.activeElement===o)null==i||i.focus();else if(document.activeElement===c)null==o||o.focus();else{if(!r)return;null==(d=s(r,n))||d.focus()}if("ArrowRight"===e.key)if(e.preventDefault(),document.activeElement===i)null==o||o.focus();else if(document.activeElement===o)null==c||c.focus();else if(document.activeElement===c)null==i||i.focus();else{if(!r)return;null==(d=s(r,t))||d.focus()}"Home"===e.key&&(e.preventDefault(),t.focus()),"End"===e.key&&(e.preventDefault(),n.focus()),"Escape"===e.key&&(e.preventDefault(),n.focus(),n.blur())}}),[Ie,fe,Oe,me,Me,ke]),e.createElement("div",{onFocus:function(){!Oe&&Te(!0)},onBlur:function(e){e.currentTarget.contains(e.target)||Te(!1)},style:ge.root.rc,className:"rc",ref:Ie},e.createElement(Y,{onClickPrev:Fe,onClickNext:Ye,onChangeViewType:Re,viewType:fe,monthInView:me,yearInView:Me,yearMatrixStart:Ve,yearMatrixEnd:xe}),e.createElement("div",{style:K,className:"rc_body"},"months"===fe&&e.createElement(T,{onChangeViewType:Re,onChangeViewingMonth:_e}),"years"===fe&&e.createElement(q,{onChangeViewType:Re,onChangeViewingYear:Se,yearMatrixStart:Ve,yearMatrixEnd:xe}),"month_dates"===fe&&e.createElement(e.Fragment,null,e.createElement(B,{startOfWeek:x,weekendMap:ce}),e.createElement(G,{noPadRangeCell:F,isRangeSelectModeOn:N,onChangeRangeSelectMode:A,skipDisabledDatesInRange:W,hideAdjacentDates:P,allowFewerDatesThanRange:j,selectedDate:D,selectedRangeStart:v,selectedRangeEnd:L,lockView:V,newSelectedRangeStart:z,startOfWeek:x,onChangenNewSelectedRangeEnd:H,onChangenNewSelectedRangeStart:J,onPartialRangeSelect:U,onEachMultiSelect:X,newSelectedRangeEnd:$,isRangeSelectorView:y,fixedRange:ee,isFixedRangeView:te,isDisabled:ne,checkIfWeekend:ae,selectedMultiDates:M,isMultiSelectorView:h,monthInView:me,maxAllowedDate:k,minAllowedDate:b,weekends:I,onChange:re,yearInView:Me,disableFuture:ie,disablePast:oe,highlightsMap:se,disableToday:ue}))))})));function Z(e){var t=e.isMultiSelectorView&&e.selectedMultiDates&&e.selectedMultiDates[Object.keys(e.selectedMultiDates)[0]];return w(e.viewDate)?e.viewDate:e.isNormalView&&w(e.selectedDate)?e.selectedDate:e.isRangeSelectorView&&e.selectedRangeStart?e.selectedRangeStart:t&&w(t)?t:w(e.minAllowedDate)?e.minAllowedDate:w(e.maxAllowedDate)?e.maxAllowedDate:new Date}var $=[],ee={display:"inline-flex"};var te=e.forwardRef((function(t,a){var r=t.value,c=t.isMultiSelector,o=t.className,d=void 0===o?"":o,g=t.isRangeSelector,m=t.useDarkMode,D=void 0!==m&&m,v=t.weekends,M=t.highlights,b=void 0===M?$:M,_=t.initialViewDate,S=t.allowFewerDatesThanRange,R=void 0!==S&&S,p=t.startOfWeek,k=void 0===p?1:p,E=t.maxAllowedDate,C=t.skipDisabledDatesInRange,V=void 0!==C&&C,x=t.minAllowedDate,F=t.fixedRange,Y=t.isDisabled,I=t.onPartialRangeSelect,N=t.noPadRangeCell,A=void 0===N||N,O=t.onEachMultiSelect,T=t.initialView,W=t.onChange,P=t.lockView,j=void 0!==P&&P,L=t.disableFuture,q=void 0!==L&&L,z=t.size,B=void 0===z?276:z,H=t.fontSize,J=void 0===H?16:H,U=t.disablePast,G=void 0!==U&&U,K=t.disableToday,Q=void 0!==K&&K,Z=t.showDualCalendar,te=void 0!==Z&&Z,ne=t.hideAdjacentDates,ae=void 0!==ne&&ne,re=t.onChangeMonth,le=!!g,ie=le&&!!te,ce=!le&&!!c,oe=!!(le&&"number"==typeof F&&F>0),se=!le&&!ce,ue=s({setView:function(){}});i(a,(function(){return{setView:function(e){ue.current.setView(e)}}}));var de=k,ge=oe?F:1,he=n((function(){return Array.isArray(b)?b.filter((function(e){return w(e)})).reduce((function(e,t){return e[h(t)]=1,e}),{}):{}}),[b]),fe=n((function(){return Array.isArray(v)&&(v.every((function(e){return"number"==typeof e}))||0===v.length)?v:[6,0]}),[v]),ye=n((function(){return w(E)?h(E):void 0}),[E]),we=n((function(){return w(x)?h(x):void 0}),[x]),me=n((function(){return w(_)?_:void 0}),[_]),De=n((function(){return!!w(E)&&(!w(x)||y(E,x))}),[E,x]),ve=n((function(){return!!w(x)&&(!w(E)||y(E,x))}),[E,x]),Me=n((function(){return function(e){var t=e.disablePast,n=e.disableToday,a=e.disableFuture,r=e.customDisabledCheck,l=e.maxDate,i=e.minDate,c=e.applyMax,o=e.applyMin,s=new Date,u=s.getFullYear(),d=s.getMonth(),g=s.getDate();return function(e){if(t){if(e.getFullYear()<u)return!0;if(e.getFullYear()===u&&e.getMonth()<d)return!0;if(e.getFullYear()===u&&e.getMonth()===d&&e.getDate()<g)return!0}if(n&&e.getFullYear()===u&&e.getMonth()===d&&e.getDate()===g)return!0;if(a){if(e.getFullYear()>u)return!0;if(e.getFullYear()===u&&e.getMonth()>d)return!0;if(e.getFullYear()===u&&e.getMonth()===d&&e.getDate()>g)return!0}return!!(c&&l&&y(e,l))||!!(o&&i&&y(i,e))||"function"==typeof r&&r(e)}}({disablePast:G,disableToday:Q,disableFuture:q,customDisabledCheck:Y,maxDate:ye?f(ye):void 0,minDate:we?f(we):void 0,applyMax:De,applyMin:ve})}),[De,ve,q,G,Q,Y,ye,we]),be=n((function(){return function(e){var t=e.reduce((function(e,t){return e[t]=1,e}),{});return function(e){return 1===t[e.getDay()]}}(fe)}),[fe]),_e=n((function(){return fe.reduce((function(e,t){return e[t]=1,e}),{})}),[fe]),Se=n((function(){return se&&w(r)?r:void 0}),[se,r]),Re=n((function(){return ce&&Array.isArray(r)&&r.every(w)?r.reduce((function(e,t){return w(t)&&(e[h(t)]=t),e}),{}):{}}),[ce,r]),pe=n((function(){if(le&&Array.isArray(r)&&w(r[0])){var e=r[0].getFullYear(),t=r[0].getMonth(),n=r[0].getDate();return new Date(e,t,n)}}),[le,r]),ke=n((function(){if(le&&pe&&Array.isArray(r)&&w(r[1])&&y(r[1],pe)){var e=r[1].getFullYear(),t=r[1].getMonth(),n=r[1].getDate();return new Date(e,t,n)}}),[le,pe,r]),Ee=l(!1),Ce=Ee[0],Ve=Ee[1],xe=l(pe),Fe=xe[0],Ye=xe[1],Ie=l(ke),Ne=Ie[0],Ae=Ie[1],Oe=n((function(){return{noPadRangeCell:!!A&&le,showDualCalendar:ie,viewDate:me,useDarkMode:D,className:d,hideAdjacentDates:!!ae,isNormalView:se,size:B,fontSize:J,startOfWeek:de,weekends:fe,isRangeSelectModeOn:Ce,onChangeRangeSelectMode:Ve,skipDisabledDatesInRange:!!V,allowFewerDatesThanRange:!!R,selectedDate:Se,selectedRangeStart:pe,selectedRangeEnd:ke,lockView:!!j,newSelectedRangeStart:Fe,onChangenNewSelectedRangeEnd:Ae,onChangenNewSelectedRangeStart:Ye,onPartialRangeSelect:I,onEachMultiSelect:O,newSelectedRangeEnd:Ne,isRangeSelectorView:le,initialView:T,fixedRange:ge,isFixedRangeView:oe,isDisabled:Me,checkIfWeekend:be,selectedMultiDates:Re,isMultiSelectorView:ce,maxAllowedDate:ye,minAllowedDate:we,onChange:W,disableFuture:q,disablePast:G,highlightsMap:he,disableToday:Q,weekendMap:_e,onChangeMonth:re}}),[R,Me,be,_e,d,q,G,ae,Q,T,ge,J,he,me,ie,oe,ce,se,Ce,le,j,ye,we,Ne,A,Fe,W,O,I,Se,Re,ke,pe,B,V,de,D,fe,re]),Te=n((function(){return"string"==typeof d?"rc_root"+(D?" rc_dark":"")+(ie?" rc_dual":"")+" "+d+(A&&le?" rc_no_range_padding":""):"rc_root"+(D?" rc_dark":"")+(ie?" rc_dual":"")+(A&&le?" rc_no_range_padding":"")}),[d,D,ie,A,le]);return e.createElement("div",{className:Te,style:ee},ie?e.createElement(e.Fragment,null,e.createElement(X,u({isSecondary:!1},Oe)),e.createElement(X,u({isSecondary:!0},Oe))):e.createElement(X,u({ref:ue,isSecondary:!1},Oe)))})),ne=function(e){if(!Array.isArray(e))return[];var t=e[0],n=e[1];if(!w(t)||!w(n))return[];for(var a=t,r=[];y(n,a);)r.push(a),a=k(a);return r.push(n),r},ae=function(e){return function(e){var t={YYYY:!0,MM:!0,DD:!0},n=e.split("-");if(3!==n.length)throw new Error("Date format is invalid.");if(!n.every((function(e){return t[e]})))throw new Error("Date format uses unknown parts.");return function(e,t){if(w(e)){var a="";return n.forEach((function(n,r){"YYYY"===n&&(a+=e.getFullYear()),"MM"===n&&(a+=e.getMonth()),"DD"===n&&(a+=e.getDate()),2!==r&&(a+=t)})),a}}}(e||"DD-MM-YYYY")};export{te as Calendar,ne as giveDaysInRange,ae as giveFormatter};
